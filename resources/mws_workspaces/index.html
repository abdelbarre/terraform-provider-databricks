<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.68.3"><meta name=description content><meta name=author content="Databricks Labs"><link rel="shortcut icon" href=/terraform-provider-databricks/img/favicon.png type=image/x-icon><title>mws_workspaces :: Databricks Terraform Provider</title><link href=/terraform-provider-databricks/css/nucleus.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/fontawesome-all.min.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/hybrid.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/featherlight.min.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/perfect-scrollbar.min.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/auto-complete.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/atom-one-dark-reasonable.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/theme.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/hugo-theme.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/theme-blue.css?1593090655 rel=stylesheet><link href=/terraform-provider-databricks/css/tabs.css?1593090655 rel=stylesheet><script src=/terraform-provider-databricks/js/jquery-3.3.1.min.js?1593090655></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/terraform-provider-databricks/resources/mws_workspaces/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/terraform-provider-databricks/><img src=/terraform-provider-databricks/img/databricks2.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/terraform-provider-databricks/js/lunr.min.js?1593090655></script><script type=text/javascript src=/terraform-provider-databricks/js/auto-complete.js?1593090655></script><script type=text/javascript>var baseurl="\/\/databrickslabs.github.io\/terraform-provider-databricks\/";</script><script type=text/javascript src=/terraform-provider-databricks/js/search.js?1593090655></script></div><div class=highlightable><ul class=topics><li data-nav-id=/terraform-provider-databricks/overview/ title=Overview class=dd-item><a href=/terraform-provider-databricks/overview/>Overview</a></li><li data-nav-id=/terraform-provider-databricks/installation/ title=Installation class=dd-item><a href=/terraform-provider-databricks/installation/>Installation</a></li><li data-nav-id=/terraform-provider-databricks/provider/ title=Provider class=dd-item><a href=/terraform-provider-databricks/provider/>Provider</a></li><li data-nav-id=/terraform-provider-databricks/resources/ title=Resources class="dd-item
parent"><a href=/terraform-provider-databricks/resources/>Resources</a><ul><li data-nav-id=/terraform-provider-databricks/resources/cluster_policy/ title=cluster_policy class=dd-item><a href=/terraform-provider-databricks/resources/cluster_policy/>cluster_policy</a></li><li data-nav-id=/terraform-provider-databricks/resources/aws_s3_mount/ title=aws_s3_mount class=dd-item><a href=/terraform-provider-databricks/resources/aws_s3_mount/>aws_s3_mount</a></li><li data-nav-id=/terraform-provider-databricks/resources/azure_adls_gen1_mount/ title=azure_adls_gen1_mount class=dd-item><a href=/terraform-provider-databricks/resources/azure_adls_gen1_mount/>azure_adls_gen1_mount</a></li><li data-nav-id=/terraform-provider-databricks/resources/azure_adls_gen2_mount/ title=azure_adls_gen2_mount class=dd-item><a href=/terraform-provider-databricks/resources/azure_adls_gen2_mount/>azure_adls_gen2_mount</a></li><li data-nav-id=/terraform-provider-databricks/resources/azure_blob_mount/ title=azure_blob_mount class=dd-item><a href=/terraform-provider-databricks/resources/azure_blob_mount/>azure_blob_mount</a></li><li data-nav-id=/terraform-provider-databricks/resources/cluster/ title=cluster class=dd-item><a href=/terraform-provider-databricks/resources/cluster/>cluster</a></li><li data-nav-id=/terraform-provider-databricks/resources/dbfs_file/ title=dbfs_file class=dd-item><a href=/terraform-provider-databricks/resources/dbfs_file/>dbfs_file</a></li><li data-nav-id=/terraform-provider-databricks/resources/dbfs_file_sync/ title=dbfs_file_sync class=dd-item><a href=/terraform-provider-databricks/resources/dbfs_file_sync/>dbfs_file_sync</a></li><li data-nav-id=/terraform-provider-databricks/resources/instance_pool/ title=instance_pool class=dd-item><a href=/terraform-provider-databricks/resources/instance_pool/>instance_pool</a></li><li data-nav-id=/terraform-provider-databricks/resources/instance_profile/ title=instance_profile class=dd-item><a href=/terraform-provider-databricks/resources/instance_profile/>instance_profile</a></li><li data-nav-id=/terraform-provider-databricks/resources/job/ title=job class=dd-item><a href=/terraform-provider-databricks/resources/job/>job</a></li><li data-nav-id=/terraform-provider-databricks/resources/mws_credentials/ title=mws_credentials class=dd-item><a href=/terraform-provider-databricks/resources/mws_credentials/>mws_credentials</a></li><li data-nav-id=/terraform-provider-databricks/resources/mws_networks/ title=mws_networks class=dd-item><a href=/terraform-provider-databricks/resources/mws_networks/>mws_networks</a></li><li data-nav-id=/terraform-provider-databricks/resources/mws_storage_configurations/ title=mws_storage_configurations class=dd-item><a href=/terraform-provider-databricks/resources/mws_storage_configurations/>mws_storage_configurations</a></li><li data-nav-id=/terraform-provider-databricks/resources/mws_workspaces/ title=mws_workspaces class="dd-item active"><a href=/terraform-provider-databricks/resources/mws_workspaces/>mws_workspaces</a></li><li data-nav-id=/terraform-provider-databricks/resources/notebook/ title=notebook class=dd-item><a href=/terraform-provider-databricks/resources/notebook/>notebook</a></li><li data-nav-id=/terraform-provider-databricks/resources/scim_group/ title=scim_group class=dd-item><a href=/terraform-provider-databricks/resources/scim_group/>scim_group</a></li><li data-nav-id=/terraform-provider-databricks/resources/scim_user/ title=scim_user class=dd-item><a href=/terraform-provider-databricks/resources/scim_user/>scim_user</a></li><li data-nav-id=/terraform-provider-databricks/resources/secret/ title=secret class=dd-item><a href=/terraform-provider-databricks/resources/secret/>secret</a></li><li data-nav-id=/terraform-provider-databricks/resources/secret_acl/ title=secret_acl class=dd-item><a href=/terraform-provider-databricks/resources/secret_acl/>secret_acl</a></li><li data-nav-id=/terraform-provider-databricks/resources/secret_scope/ title=secret_scope class=dd-item><a href=/terraform-provider-databricks/resources/secret_scope/>secret_scope</a></li><li data-nav-id=/terraform-provider-databricks/resources/token/ title=token class=dd-item><a href=/terraform-provider-databricks/resources/token/>token</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/databrickslabs/terraform-provider-databricks><i class="fab fa-fw fa-github"></i>GitHub repo</a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/databrickslabs/terraform-provider-databricks/releases/ data-icon=octicon-cloud-download aria-label="Download matcornic/hugo-theme-learn on GitHub">v0.1.0</a>
<a class=github-button href=https://github.com/databrickslabs/terraform-provider-databricks data-icon=octicon-star data-show-count=true aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>
<a class=github-button href=https://github.com/databrickslabs/terraform-provider-databricks/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a>
<a class=github-button href=https://github.com/databrickslabs/terraform-provider-databricks/issues/new data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count=true aria-label="Issue databrickslabs/terraform-provider-databricks on GitHub">Issue</a></center>
<script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/terraform-provider-databricks/>Databricks Terraform Provider</a> > <a href=/terraform-provider-databricks/resources/>Resources</a> > mws_workspaces</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#resource-databricks_mws_workspaces>Resource: <code>databricks_mws_workspaces</code></a></li><li><a href=#example-usage>Example Usage</a></li><li><a href=#argument-reference>Argument Reference</a><ul><li></li></ul></li><li><a href=#attribute-reference>Attribute Reference</a><ul><li></li></ul></li><li><a href=#import>Import</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>mws_workspaces</h1><h2 id=resource-databricks_mws_workspaces>Resource: <code>databricks_mws_workspaces</code></h2><p>This resource to configure the vpc for the multiple workspaces api if the BYOVPC option is chosen.</p><div class="notices warning"><p>This provider does not yet support the customer_managed_key resource yet so you will need to manually create that
and provide the cmk object guid into the workspace api. You can see it on the argument reference below.</p></div><div class="notices warning"><p>It is important to understand that this will require you to configure your provider separately for the
multiple workspaces resources</p></div><div class="notices note"><p>This will point to <a href=https://accounts.cloud.databricks.com>https://accounts.cloud.databricks.com</a> for the HOST and it will use basic auth
as that is the only authentication method available for multiple workspaces api.</p></div><h2 id=example-usage>Example Usage</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#66d9ef>provider</span> <span style=color:#e6db74>&#34;databricks&#34;</span> {
  host <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;https://accounts.cloud.databricks.com&#34;</span>
  <span style=color:#66d9ef>basic_auth</span> {
    username <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;username&#34;</span>
    password <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;password&#34;</span>
  }
}
<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;databricks_mws_credentials&#34; &#34;my_mws_credentials&#34;</span> {
  account_id       <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-mws-account-id&#34;</span>
  credentials_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-cusotom-credentials&#34;</span>
  role_arn         <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;arn:aws:iam::9999999999999:role/my-custom-cross-account-role&#34;</span>
}
<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;databricks_mws_storage_configurations&#34; &#34;my_mws_storage_configurations&#34;</span> {
  account_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-mws-acct-id&#34;</span>
  storage_configuration_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;storage-configuration-name&#34;</span>
  bucket_name         <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-root-s3-bucket&#34;</span>
}
<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;databricks_mws_networks&#34; &#34;my_network&#34;</span> {
  account_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-mws-acct-id&#34;</span>
  network_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-custom-network-config-name&#34;</span>
  vpc_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-aws-vpc-id&#34;</span>
  subnet_ids <span style=color:#f92672>=</span> [
    <span style=color:#e6db74>&#34;my-first-subnet&#34;</span>,
    <span style=color:#e6db74>&#34;my-second-subnet&#34;</span>,
  ]
  security_group_ids <span style=color:#f92672>=</span> [
    <span style=color:#e6db74>&#34;my-security-group-1&#34;</span>,
  ]
}
<span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;databricks_mws_workspaces&#34; &#34;my_mws_workspace&#34;</span> {
  account_id <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-mws-acct-id&#34;</span>
  workspace_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-workspace-name&#34;</span>
  deployment_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-deployment-urlname&#34;</span>
  aws_region <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;my-aws-region&#34;</span>
  credentials_id <span style=color:#f92672>=</span> <span style=color:#66d9ef>databricks_mws_credentials</span>.<span style=color:#66d9ef>my_mws_credentials</span>.<span style=color:#66d9ef>credentials_id</span>
  storage_configuration_id <span style=color:#f92672>=</span> <span style=color:#66d9ef>databricks_mws_storage_configurations</span>.<span style=color:#66d9ef>my_mws_storage_configurations</span>.<span style=color:#66d9ef>storage_configuration_id</span>
  network_id <span style=color:#f92672>=</span> <span style=color:#66d9ef>databricks_mws_networks</span>.<span style=color:#66d9ef>my_network</span>.<span style=color:#66d9ef>network_id</span>
  verify_workspace_runnning <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>
}
</code></pre></div><h2 id=argument-reference>Argument Reference</h2><p>The following arguments are supported:</p><h4 id=--account_id>- <code>account_id</code>:</h4><blockquote><p><strong>(Required)</strong> Databricks multi-workspace master account ID.</p></blockquote><h4 id=--workspace_name>- <code>workspace_name</code>:</h4><blockquote><p><strong>(Required)</strong> The workspace&rsquo;s human-readable name. It is used as part of the workspace URL.</p></blockquote><h4 id=--deployment_name>- <code>deployment_name</code>:</h4><blockquote><p><strong>(Required)</strong> The name of the deployment you want. The URL prefix of the workspace.
Append .cloud.databricks.com to get the full URL.</p></blockquote><h4 id=--aws_region>- <code>aws_region</code>:</h4><blockquote><p><strong>(Required)</strong> The AWS region of the workspace&rsquo;s Data Plane.</p></blockquote><h4 id=--credentials_id>- <code>credentials_id</code>:</h4><blockquote><p><strong>(Required)</strong> ID of the workspace&rsquo;s credential configuration object</p></blockquote><h4 id=--storage_configuration_id>- <code>storage_configuration_id</code>:</h4><blockquote><p><strong>(Required)</strong> The ID of the workspace&rsquo;s storage configuration object.</p></blockquote><h4 id=--verify_workspace_runnning>- <code>verify_workspace_runnning</code>:</h4><blockquote><p><strong>(Required)</strong> Validates that the workspace is functioning post creation. Recommended to turn this on
to verify post apply that the workspace is in a running conidition</p></blockquote><h4 id=--network_id>- <code>network_id</code>:</h4><blockquote><p><strong>(Optional)</strong> The ID of the workspace&rsquo;s network configuration object.</p></blockquote><h4 id=--customer_managed_key_id>- <code>customer_managed_key_id</code>:</h4><blockquote><p><strong>(Optional)</strong> The ID of the workspace&rsquo;s notebook encryption key configuration object.</p></blockquote><h4 id=--is_no_public_ip_enabled>- <code>is_no_public_ip_enabled</code>:</h4><blockquote><p><strong>(Optional)</strong> Specifies whether secure cluster connectivity (sometimes called no public IP) is enabled on this workspace.</p></blockquote><h2 id=attribute-reference>Attribute Reference</h2><p>In addition to all arguments above, the following attributes are exported:</p><h4 id=--id>- <code>id</code>:</h4><blockquote><p>The id of the resource which follows the format accountId/workspaceId.</p></blockquote><h4 id=--workspace_status>- <code>workspace_status</code>:</h4><blockquote><p>Enum: &ldquo;NOT_PROVISIONED&rdquo; &ldquo;PROVISIONING&rdquo; &ldquo;RUNNING&rdquo; &ldquo;FAILED&rdquo; &ldquo;BANNED&rdquo; &ldquo;CANCELLING&rdquo;
The status of the workspace. For workspace creation, it is typically initially PROVISIONING.
Continue to check the status until the status is RUNNING.
For detailed instructions of creating a new workspace with this API including error handling see
Create a new workspace with the Multi-workspace API.</p></blockquote><h4 id=--workspace_status_message>- <code>workspace_status_message</code>:</h4><blockquote><p>Message describing the current workspace status.</p></blockquote><h4 id=--creation_time>- <code>creation_time</code>:</h4><blockquote><p>Time in epoch milliseconds when the workspace was created.</p></blockquote><h4 id=--workspace_id>- <code>workspace_id</code>:</h4><blockquote><p>The Databricks workspace ID.</p></blockquote><h4 id=--workspace_url>- <code>workspace_url</code>:</h4><blockquote><p>The URL for the workspace.</p></blockquote><h4 id=--network_error_messages>- <code>network_error_messages</code>:</h4><blockquote><p>Array of error messages about the network configuration.
Contains the following objects:
error_type: The AWS resource associated with this error: credentials, VPC, subnet, security group, or network ACL.
error_message: Details of the error.</p></blockquote><h2 id=import>Import</h2><div class="notices note"><p>Importing this resource is not currently supported.</p></div><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/terraform-provider-databricks/js/clipboard.min.js?1593090655></script><script src=/terraform-provider-databricks/js/perfect-scrollbar.min.js?1593090655></script><script src=/terraform-provider-databricks/js/perfect-scrollbar.jquery.min.js?1593090655></script><script src=/terraform-provider-databricks/js/jquery.sticky.js?1593090655></script><script src=/terraform-provider-databricks/js/featherlight.min.js?1593090655></script><script src=/terraform-provider-databricks/js/highlight.pack.js?1593090655></script><script>hljs.initHighlightingOnLoad();</script><script src=/terraform-provider-databricks/js/modernizr.custom-3.6.0.js?1593090655></script><script src=/terraform-provider-databricks/js/learn.js?1593090655></script><script src=/terraform-provider-databricks/js/hugo-learn.js?1593090655></script><link href=/terraform-provider-databricks/mermaid/mermaid.css?1593090655 rel=stylesheet><script src=/terraform-provider-databricks/mermaid/mermaid.js?1593090655></script><script>mermaid.initialize({startOnLoad:true});</script><script>function switchTab(tabGroup,tabId){allTabItems=jQuery("[data-tab-group='"+tabGroup+"']");targetTabItems=jQuery("[data-tab-group='"+tabGroup+"'][data-tab-item='"+tabId+"']");var isButtonEvent=event!=undefined;if(isButtonEvent){var yposButton=event.target.getBoundingClientRect().top;}
allTabItems.removeClass("active");targetTabItems.addClass("active");if(isButtonEvent){var yposButtonDiff=event.target.getBoundingClientRect().top-yposButton;window.scrollTo(window.scrollX,window.scrollY+yposButtonDiff);if(window.localStorage){var selectionsJSON=window.localStorage.getItem("tabSelections");if(selectionsJSON){var tabSelections=JSON.parse(selectionsJSON);}else{var tabSelections={};}
tabSelections[tabGroup]=tabId;window.localStorage.setItem("tabSelections",JSON.stringify(tabSelections));}}}
function restoreTabSelections(){if(window.localStorage){var selectionsJSON=window.localStorage.getItem("tabSelections");if(selectionsJSON){var tabSelections=JSON.parse(selectionsJSON);}else{var tabSelections={};}
Object.keys(tabSelections).forEach(function(tabGroup){var tabItem=tabSelections[tabGroup];switchTab(tabGroup,tabItem);});}}
jQuery(document).ready(function(){restoreTabSelections();});</script></body></html>